<!doctype html>
<html lang = "en" >
<head>
<meta charset = "utf-8" >
<meta name = "viewport" content= "width=device-width, initial-scale=1">
<meta name = "description" content = "gbXML Viewer gallery: Use the GitHub API to obtain directory listings of gbXML files" >
<meta name = "keywords" content = "gbXML,Three.js,WebGL,JavaScript,GitHub,FOSS,3D,STEM" >
<meta name = "date" content = "2018-02-15" >
<title>gv-gal gbxml-viewer-gallery</title>
<link rel="stylesheet" type="text/css" href="../gv-tmp/style-template.css" >
</head>
<body>
<script src = "../gv-cor/gv-cor.js" ></script>
<script src = "../gv-thr/gv-thr.js" ></script>
<!-- Copyright 2018 Ladybug Tools authors. MIT License -->

	<div id = "divHeader" >
		<div id = "divTitle" ></div>
	</div>


	<p>
		<button id=butGalleryGbxml onclick =
			"const script = document.head.appendChild( document.createElement( 'script' ) );
			script.src = '../gv-gal/gv-gal-gbxml.js';" >
			gallery gbxml
		</button>

		<button id=butGallerySampleFiles onclick =
			"const script = document.head.appendChild( document.createElement( 'script' ) );
			script.src = '../gv-gal/gv-gal-spider-gbxml-sample-files.js';" >
			gallery gbxml viewer sample files
		</button>

		<button id=butGalleryBuildWell onclick =
			"const script = document.head.appendChild( document.createElement( 'script' ) );
			script.src = '../gv-gal/gv-gal-spider-build-well.js';" >
			gallery build well
		</button>
	</p>

	<iframe id=ifrThree src='../gv-thr/gv-thr.html' ></iframe>

	<div id=divMenuFileOpening ></div>

	<div id = "divSampleFiles" ></div>

	<p><a href=index.html >Read Me file</a></a></p>

	<div id = "divMenu" >

		<div id = "divMenuHeader" >
			Click here to move
			<button ontouchstart=divMenu.style.display="none"; onclick=divMenu.style.display="none"; style=float:right;z-index:20; >&#x2716;</button>
		</div>

		<div id=divMenuItems ></div>

	</div>

<script>


	COR.initCore();
	init();


	function init() {

		divTitle.innerHTML =
			'<h2>' +
				'<a href="https://github.com/ladybug-tools/spider/tree/master/gbxml-viewer/r10/" >' + COR.iconInfo + '</a>' +
				' <a  href = "" >' + document.title + '</a>' +
			'</h2>' +
			'<p>' + document.head.querySelector( '[name=description]' ).content + '</p>' +
		'';

		divMenuFileOpening.innerHTML = COR.menuFileOpening;

		divSampleFiles.innerHTML = COR.gbxmlSampleFiles;

		window.addEventListener ( 'hashchange', onHashChange, false );

		onHashChange();

	}


	function onloadThreejs() {

		icw = ifrThree.contentWindow;
		THREE = icw.THREE;
		renderer = icw.THR.renderer;
		camera = icw.THR.camera;
		controls = icw.THR.controls;
		scene = icw.THR.scene;
		axesHelper = icw.THR.axesHelper;
		lightDirectional = icw.THR.lightDirectional;
		colors = icw.GBX.colors;
		gbjson = icw.GBX.gbjson;
		surfaceMeshes = icw.GBX.surfaceMeshes;
		surfaceEdges = icw.GBX.surfaceEdges;
		divLog = icw.divLog;
		zoomObjectBoundingSphere = icw.GBX.zoomObjectBoundingSphere;
		setAllVisible = icw.GBX.setAllVisible;

		console.log( 'scene', scene );

		butGalleryGbxml.click();

	}



	function onHashChange() {

		const url = COR.threeDefaultFile + location.hash;
		console.log( 'url', url );

		ifrThree.src = url;
		ifrThree.contentWindow.location.reload();

	}



</script>
</body>
</html>